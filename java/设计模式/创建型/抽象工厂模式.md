## 介绍

工厂的工厂,在抽象工厂中可以建造出其他工厂.与工厂模式一样,都是解决接口选择的问题.



## 模拟场景

**Redis缓存集群升级场景**

业务早期QPS低,使用单点Redis即可满足业务需求,但是随着业务发展,系统的负载瓶颈需要升级,由单点改为集群模式,

<img src="https://i.loli.net/2021/10/12/9rFVw5xs4zv3fZH.png" alt="image-20211012135711297" style="zoom:50%;" />

由系统升级可以预见的问题:

* 很多服务用到了Redis,需要一起升级到集群
* 需要兼容集群A和集群B,便于灾备时的切换
* 两套集群的接口方法有差异,需要进行适配
* 不能影响目前正常运行的系统

